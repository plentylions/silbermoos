{% import "Ceres::Widgets.Helper.TwigBuilder" as Twig %}

{% set customClass = widget.settings.customClass.mobile %}
{% set phone = widget.settings.phone.mobile %}
{% set whatsappText = widget.settings.whatsappText.mobile %}
{% set listEntries = widget.settings.entries.mobile %}

{% set hasEntries    = false %}
{% for entry in listEntries if entry.text is not empty %}
    {% set hasEntries = true %}
{% endfor %}

{{ Twig.import("LayoutContainer", "Ceres::PageDesign.Macros.LayoutContainer") }}

<div class="top-bar header-fw unfixed{% if customClass | length > 0 %} {{ customClass }}{% endif %}">
    <div class="container-max px-0 pr-lg-3">
        <div class="row mx-0 flex-row-reverse position-relative">
            {% if isPreview and not
                hasEntries
            %}
                <div class="widget-placeholder p-0 w-100 text-dark">
                    <div>
                        <p class="title">{{ Twig.trans("Ceres::Widget.topBarPlaceholderTitle") }}</p>
                        <p class="description">{{ Twig.trans("Ceres::Widget.topBarPlaceholderDescription") }}</p>
                    </div>
                </div>
            {% endif %}
            <div class="top-bar-items col-12 d-flex align-items-center">
                {{ Twig.print(Twig.call("LayoutContainer.show", ["Ceres::Header.LeftSide"])) }}

                {% if listEntries | length > 0 %}
                    <div class="arguments-slider-wrapper">
                        <div class="arguments-slider">
                            {% for entry in listEntries %}
                                <div class="argument-item">
                                    {% if entry.text is not empty %}
                                        <span>{{ entry.text }}</span>
                                    {% endif %}
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}

                <ul class="contact-info list-unstyled">
                    {% if phone | length > 0 %}
                        <li>
                            <a href="tel:{{ phone }}">
                                <i class="fa fa-phone" aria-hidden="true"></i>
                                <span class="text">{{ phone }}</span>
                            </a>
                        </li>
                    {% endif %}

                    {% if whatsappText | length > 0 %}
                        <li>
                            <i class="fa fa-whatsapp" aria-hidden="true"></i>
                            <span class="text">{{ whatsappText }}</span>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
</div>
